v1.0+ 噪声声压级采集系统

本系统硬件选型：
4G：luat Air780UG模块
MCU：STM32F103C8T6
屏幕：0.96寸OLED
电源：12V DC座子大容量电池，通过EG1192（开关稳压芯片）稳压至5V，给噪音传感器模块供电，5V再经过HT7333（线性稳压芯片）降压至3V3，为MCU供电。
噪声传感器：-ZS-BZ-*板载噪声模块（数字噪声传感器，fast模式每0.5s通过modbus协议给出环境噪音声压级，传感器接口协议采用UART）

系统流程分析：
噪声传感器获取到当前声压级数据，通过串口发送给MCU，MCU将数据提出后封装为JSON格式作为数据包，在通过4G模块联网上OneNet云服务器，使用MQTT网络
协议订阅双通道主题，一收一发，以此将数据上传，服务器获取数据后缓存起来，上位机采用手机微信小程序开发，小程序同样使用MQTT接入OneNet，反向订阅下位
机的收发主题，将获得的数据包按标准json格式解码，读出数据显示在表盘中，至此，完成一次系统流程。

下位机代码简述：
①调用OneNet提供的MQTT kit（MQTT工具包）中的C库，将头文件与源文件导入工程；
②包含C的字符串处理头文件，4G模块使用AT指令（比如AT+MUNSUB，该指令用于取消订阅主题），MCU就通过字符串处理发给4G模块，达到使用AT指令操作的
目的，每次上电开机需要MCU给4G模块发送初始化AT指令，自检SIM卡状态、自检网络、连接OneNet服务器、连接MQTT设备、订阅主题、试发送并捕获服务器应答；
③MCU通过串口获取每0.5s噪声传感器模块返回的声压级数据；
④MCU通过字符串处理，将数据加上帧头帧尾打包成json格式，再通过AT指令上传。