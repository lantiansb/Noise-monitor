v2.0 噪声监测系统

本系统硬件选型：
4G：luat Air780UG模块
MCU：STM32F411xx
屏幕：0.96寸OLED
电源：12V DC座子大容量电池，通过EG1192（开关稳压芯片）稳压至5V，给噪音传感器模块供电，5V再经过HT7333（线性稳压芯片）降压至3V3，为MCU供电。
声音传感器：驻极体麦克风

关于为什么采用麦克风采集完整声信息的解释：
变压器的噪声可用来与其他关联物理量进行关联性分析，而往往在雷雨天或路面汽车鸣笛时会受到影响，而数字分贝仪只能将环境中的20~20kHz（人耳感音频率范围）
通过A计权网络（最贴近人耳的声音频段修正计权网络）处理后给出声压级，并不能达到滤除效果，因此需要通过频域进行滤波。

系统流程分析：
比1.0版本多出了完整的声音滤波与声压级计算，此时系统能够将变电站产生噪音的源头：主变压器机组、风机的噪声滤出，滤掉其余频段早噪声，由于主变的噪声主要
为100Hz~500Hz范围，并为50Hz的偶倍频，因此只需要将声纹信息进行FFT，得到频谱后衰减掉高频部分，得到的就能够进行声压级计算，此时得到的为主变噪声声
压级，再通过该数据按v1.0模式进行上传即可。
噪声传感器获取到当前声压级数据，通过串口发送给MCU，MCU将数据提出后封装为JSON格式作为数据包，在通过4G模块联网上OneNet云服务器，使用MQTT网络
协议订阅双通道主题，一收一发，以此将数据上传，服务器获取数据后缓存起来，上位机采用手机微信小程序开发，小程序同样使用MQTT接入OneNet，反向订阅下位
机的收发主题，将获得的数据包按标准json格式解码，读出数据显示在表盘中，至此，完成一次系统流程。

下位机代码简述：
①调用OneNet提供的MQTT kit（MQTT工具包）中的C库，将头文件与源文件导入工程；
②包含C的字符串处理头文件，4G模块使用AT指令（比如AT+MUNSUB，该指令用于取消订阅主题），MCU就通过字符串处理发给4G模块，达到使用AT指令操作的
目的，每次上电开机需要MCU给4G模块发送初始化AT指令，自检SIM卡状态、自检网络、连接OneNet服务器、连接MQTT设备、订阅主题、试发送并捕获服务器应答；
③MCU通过串口获取每0.5s噪声传感器模块返回的声压级数据；
④MCU通过字符串处理，将数据加上帧头帧尾打包成json格式，再通过AT指令上传。

⑤v2.0中，使用单片机自带的AD对麦克风的模拟数据进行高速采样，再调用ST官方的FFT库进行频域分析。